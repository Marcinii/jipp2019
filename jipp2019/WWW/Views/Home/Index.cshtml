@model IEnumerable<ConverterSDK.ConverterInterface>
@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>Konwerter jednostek</h1>
</div>

<div class="row">
    <div class="col-md-4">
        @foreach (ConverterSDK.ConverterInterface converter in Model)
        {
            using (Ajax.BeginForm("Convert",
        new { converterType = converter.GetType().AssemblyQualifiedName },
        new AjaxOptions() { UpdateTargetId = converter.GetType().Name + "result" }))
            {
                <div> @converter.GetType().Name </div>
                @Html.DropDownList("fromUnit", new SelectList((List<string>)converter.GetType().GetMethod("GetListOfProperties").Invoke(null, null)))
                @Html.TextBox("valueToConvert")
                @Html.DropDownList("toUnit", new SelectList((List<string>)converter.GetType().GetMethod("GetListOfProperties").Invoke(null, null)))
                <button type="submit"> Konwertuj </button>
                <label id="@(converter.GetType().Name + "result")"></label>
            }
        }
    </div>
